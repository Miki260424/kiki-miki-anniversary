<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="logIn.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    
    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>
    <script src="database-helpers.js"></script>
</head>

<body>
    <div id="logInWIndow">
        <div id="logInUpperPart">
            <h1 class="logInH1">
                Enter a date to continue
            </h1>
            <h3 class="logInH3">
                ATTENTION ONLY ONE PERSON KNOWS <br> THE REQUIRED DATE!
            </h3>
        </div>
        <div id="logInLowerPart">
            <div id="logInDate">
                <input type="text" required class="timeDate" name="day" id="day" placeholder="Day" maxlength="2">
                <input type="text" required class="timeDate" name="month" id="month" placeholder="Month" maxlength="2">
                <input type="text" required class="timeDate" name="year" id="year" placeholder="Year" maxlength="4">
                <input type="text" required class="timeDate" name="time" id="time" maxlength="5" placeholder="Hr : Min">
            </div>
            <div id="logInButton">
                <button class="logInBtn" id="logInBtn">Enter</button>
            </div>
        </div>
    </div>


    <script>
        document.getElementById("day").addEventListener("input", numbered);
        document.getElementById("month").addEventListener("input", numbered);
        document.getElementById("year").addEventListener("input", numbered);
        document.getElementById('time').addEventListener("input", function () {
            let vrednost = this.value.replace(/[^0-9]/g, "");

            if (vrednost.length > 2) {
                vrednost = vrednost.slice(0, 2) + ":" + vrednost.slice(2, 4);
            }

            this.value = vrednost.slice(0, 5);
        });

        function numbered() {
            let vrednost = this.value.replace(/[^0-9]/g, "");
            this.value = vrednost.slice(0, 5);
        }






        let buttonClicked = document.getElementById("logInBtn");
        buttonClicked.addEventListener("click", Najava);
        document.addEventListener("keydown", function (e) {
            if (e.key === "Enter") {
                Najava();
            }
        });
        function Najava() {
            const correctDay = 26;
            const correctMonth = 4;
            const correctYear = 2024;
            const correctTime = ["21:50", "21:51"];
            let loggedIn = false;

            let day = parseInt(document.getElementById("day").value);
            let month = parseInt(document.getElementById("month").value);
            let year = parseInt(document.getElementById("year").value);
            let hrMin = document.getElementById("time").value;


            if (day === correctDay &&
                month === correctMonth &&
                year === correctYear &&
                correctTime.includes(hrMin)) {
                loggedIn = true;

            }else {
                alert("You have entered the wrong date!!")
                loggedIn = false;
            }

            if (loggedIn) {
                sessionStorage.setItem("loggedIn", "true");
                window.location.replace("landingPage.html");
            }
        };




    </script>
</body>

</html>